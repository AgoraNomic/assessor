PROPOSAL 9143 (A new duel)
AUTHOR: Janet
CLASS: ORDINARY
FOR (3): Janet^, Mischief%, snail^
AGAINST (0): 
PRESENT (2): Murphy%, juan$
BALLOTS: 5
AI (F/A): 17/0 (AI=1.0)
POPULARITY: 0.600
OUTCOME: ADOPTED
[
snail: Endorsement of Janet
]

Resolved at: https://agoranomic.groups.io/g/main/message/144

ID: 9143
Title: A new duel
Adoption index: 1.0
Author: Janet
Co-authors: Mischief


All bangs are hereby destroyed. The vitality of each player hereby
becomes ghostly.

Amend the Rule entitled "Bang!" to read as follows:

{
Vitality is an untracked player switch with possible values of alive,
unalive, and ghostly (default). Bangs are a fungible asset.

Match state is an untracked singleton switch with possible values none
(default), initializing, and ongoing. If the match state is none and has
not changed in the past 7 days, a player CAN by announcement flip it to
initializing. When the match state is flipped to none or to
initializing, each player becomes ghostly (if e is not already), then all
bangs are destroyed.

While the match state is initializing:
* A player CAN by announcement incarnate, thereby flipping eir vitality
to alive.
* A player CAN by announcement trigger the match, provided the match
state has not changed in the past 7 days.
* At the beginning of each Agoran week, if any player triggered the
match in the previous Agoran week, and if there at least three alive
players, the match state is flipped to ongoing, after which each alive
player gains a bang.

If the match state is ongoing, no player has won the game as a result of
this Rule in the past 28 days, and a single player is alive, that player
CAN stand alone by announcement. When a player stands alone, e wins the
game. If a player won the game in this manner 4 days ago, then the match
state is flipped to none (if it is not already).

When a player takes an action that causes one or more vitalities or bang
balances to change, e SHOULD recite all such changes in the same message
as which e takes that action. A document reciting all bang balances and
vitalities SHOULD be published and ratified as needed.
}

Enact a new rule at power 1 entitled "Bang actions" with the following text:
{
While the match state is ongoing, a player CAN by announcement load a
round, specifying a document (the sealed orders), provided that e has
not done so in the current Agoran week.

While the match state is ongoing, a player CAN by announcement fire a
round, specifying a document (the revealed orders), provided that all of
the following are true:
* E was an alive player at the beginning of the current Agoran week.
* E has not done so in the current Agoran week.
* In the previous Agoran week, e loaded a round with sealed orders that
are a fingerprint for the revealed orders.
* The order list explicitly and unconditionally specifies a single
clear, unambiguous, and unconditional list of persons to target (the
target list).

When a player (the shooter) fires a round, sequentially for each person
(the target) in the target list, if the shooter is alive and has two
bangs, and the target is an alive player, then two of the shooter's
bangs are destroyed, after which the target is eliminated.

When a player is eliminated, if eir vitality is alive, then the
following happen in order:
* Eir vitality is flipped to unalive.
* E gains one bang.

A player who loaded a round in one Agoran week SHALL, within the first
four days of the next Agoran week, fire a round, provided the match
state has not changed during either period; failure to do so is the
class 1 infraction of wasting ammunition.

If the match state is ongoing and has not changed in the past 7 days,
and if no player has loaded a round or fired a round in this Agoran week
or the previous two Agoran weeks, then the match state becomes none.
}

[
A complete rewrite of bangs with many changes, including but not limited to:
* Petty capitalization changes.
* Remove "CAN publish".
* Explicitly have match phases.
* Slow down the game a lot.
* Actions peformed with hashing rather than first-come first-serve.
]
